<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>linux系统下串口号绑定</title>
    <link href="/blogs/2022/05/07/linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E4%B8%B2%E5%8F%A3%E5%8F%B7%E7%BB%91%E5%AE%9A/"/>
    <url>/blogs/2022/05/07/linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E4%B8%B2%E5%8F%A3%E5%8F%B7%E7%BB%91%E5%AE%9A/</url>
    
    <content type="html"><![CDATA[<h2 id="串口号绑定"><a href="#串口号绑定" class="headerlink" title="串口号绑定"></a>串口号绑定</h2><ol><li>通过串口类型绑定:此情况适用于每种串口类别(如<code>ttyUSB</code> ,<code>ttyACM</code>等)只有一个</li><li>通过硬件串口绑定:如果一种串口类型有多个设备接入,则可以通过设备的硬件端口来绑定</li></ol><p>无论是那种绑定方式,都需要完成三步:查看设备信息, 写rules文件和激活规则</p><p>两种绑定方式的区别不大,因为通过硬件串口绑定过程较多且包含了串口类型绑定的步骤,所以这里只介绍通过硬件串口的绑定方式.</p><h4 id="查看设备信息"><a href="#查看设备信息" class="headerlink" title="查看设备信息"></a>查看设备信息</h4><p>首先,在绑定串口之前,你需要知道你所绑定的设备的串口类别(如<code>ttyUSB</code> ,<code>video</code>,<code>ttyACM</code>等). 这里以绑定usb相机为例</p><p>在终端输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> -l /dev | grep video<br></code></pre></td></tr></table></figure><p>终端会显示当前所有的video流,通过拔插usb相机来判断哪一个当前usb相机设备对应的video流</p><p>然后终端输入(以<code>video6</code>为例)</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">udevadm info -a <span class="hljs-regexp">/dev/</span>video6<br></code></pre></td></tr></table></figure><p><img src="/blogs/public/2022/05/07/linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E4%B8%B2%E5%8F%A3%E5%8F%B7%E7%BB%91%E5%AE%9A/udevadm1.png"></p><p>特别注意<code>KERNELS</code>,<code>ATTRS&#123;idVendor&#125;</code>,<code>ATTRS&#123;idProduct&#125;</code>的对应值</p><h4 id="写rules规则"><a href="#写rules规则" class="headerlink" title="写rules规则"></a>写rules规则</h4><p>在<code>/etc/udev/rules.d</code>里建立rules文件,</p><p>然后输入以下内容</p><p><img src="/blogs/./linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E4%B8%B2%E5%8F%A3%E5%8F%B7%E7%BB%91%E5%AE%9A/rules.png"></p><p>KERNEL这里写你设备的串口类型,<code>ATTRS&#123;idVendor&#125;</code>,<code>ATTRS&#123;idProduct&#125;</code>,KERNELS 从上面读取,MODE写你要赋予的权限,这里0777,其中<code>SYMLINK+=&quot;usb_cam&quot;</code>为建立的虚拟端口连接，打开相机的时候，将数字序号替换为<code>/dev/usb_cam</code>即可打开绑定的对应相机。</p><h4 id="激活规则"><a href="#激活规则" class="headerlink" title="激活规则"></a>激活规则</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo udevadm trigger</span><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo <span class="hljs-regexp">/etc/i</span>nit.d/udev restart<br></code></pre></td></tr></table></figure><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><p><img src="/blogs/./linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E4%B8%B2%E5%8F%A3%E5%8F%B7%E7%BB%91%E5%AE%9A/effect.png"></p>]]></content>
    
    
    
    <tags>
      
      <tag>实物</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hello world</title>
    <link href="/blogs/2022/04/26/hello-world/"/>
    <url>/blogs/2022/04/26/hello-world/</url>
    
    <content type="html"><![CDATA[<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><p>I’m trying to share some tech-info here, mainly for myself.</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
